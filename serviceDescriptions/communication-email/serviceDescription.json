{
  "name": "communication-email",
  "description": "Whenever any part of the application requires an email to be sent this service will do that",
  "envVars": {
    "SMTP_SERVER": {
      "description": "Host or IP to the SMTP server to use, defaults to smtp.office365.com"
    },
    "SMTP_PORT": {
      "description": "TCP port of the SMTP server to use, defaults to 587"
    },
    "SMTP_SECURE": {
      "description": "If set to true the connection will use TLS when connecting to server, defaults to false"
    },
    "SMTP_USER": {
      "description": "If authentication is required, the username"
    },
    "SMTP_PASS": {
      "description": "If authentication is required, the password in plaintext"
    }
  },
  "incoming": {
    "restAPI": {
      "pathPrefix": "/communication-email",
      "endpoints": {
        "/activate": [
          {
            "method": "POST",
            "type": "CLIENT",
            "handlingFunction": "handleEmailActivation",
            "description": "Activates an acccount via a emailed token",
            "parameters": {
              "token": "String containing token"
            }
          }
        ]
      }
    }
  },
  "outgoing": {},
  "services": {
    "shared": {
      "kafka": {
        "consumes": [
          "communication-email"
        ],
        "produces": [
          "communication-email"
        ]
      }
    },
    "local": {
      "sqllite": {
        "db": {
          "communication-email": {
            "tables": [
              "tokens"
            ]
          }
        }
      }
    }
  }
}
